# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Cloudexec < Formula
  desc ""
  homepage "https://github.com/crytic/cloudexec"
  version "0.1.1"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/crytic/cloudexec/releases/download/v0.1.1/cloudexec-0.1.1-darwin-arm64.tar.gz"
      sha256 "cbf47bb15047284f65612b0f6343d2bb5439883add8be448132e5cd293c5f59c"

      def install
        bin.install "cloudexec"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/crytic/cloudexec/releases/download/v0.1.1/cloudexec-0.1.1-darwin-amd64.tar.gz"
      sha256 "e763e4edbea68a1e026411cfd8055fb6ba12f4f4a1fae49bc8ba5562f37a68d4"

      def install
        bin.install "cloudexec"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/crytic/cloudexec/releases/download/v0.1.1/cloudexec-0.1.1-linux-amd64.tar.gz"
      sha256 "ccec6b40b030e990f0db33e47e1f2a8e6e56b7c6b9f4a403f6c0ce451d377763"

      def install
        bin.install "cloudexec"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/crytic/cloudexec/releases/download/v0.1.1/cloudexec-0.1.1-linux-arm64.tar.gz"
      sha256 "e8ec958d212db31b8f7f2303184611ea722d642c49dbf4e8540f47158d952713"

      def install
        bin.install "cloudexec"
      end
    end
  end

  def caveats
    <<~EOS
      CloudExec can optionally use the 1Password CLI for secure credential management.
      To use this feature, you need to have the 1Password CLI installed.

      To install the 1Password CLI, run:
        brew install --cask 1password-cli

      For more information on using 1Password CLI with CloudExec, visit:
      https://github.com/crytic/cloudexec#configure-credentials
    EOS
  end

  test do
    system "#{bin}/cloudexec version"
  end
end
